#author: Golubev Ivan
#Bot for receiving repair orders.
#Works through webhooks

import Conf
import linecache
import random
import math
import telebot
import requests
import json
import cherrypy


webhook_host = ''
webhook_port = 443
webhook_listen = '0.0.0.0'
webhook_SSL_cert = '/home/ubuntu/certs/webher_cert.pem'
webhook_SSL_PRIV = '/home/ubuntu/certs/webher_pkey.pem'
webhook_url_kekbase = "https://%s:%s" % (webhook_host, webhook_port)
webhook_url_path = "/%s/" % (Conf.token)

bot = telebot.TeleBot(Conf.token)


class WebhookServer(object):
    @cherrypy.expose
    def index(self):
        if 'content-length' in cherrypy.request.headers and \
                        'content-type' in cherrypy.request.headers and \
                        cherrypy.request.headers['content-type'] == 'application/json':
            length = int(cherrypy.request.headers['content-length'])
            json_string = cherrypy.request.body.read(length).decode("utf-8")
            update = telebot.types.Update.de_json(json_string)
            # –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è 
            bot.process_new_updates([update])
            return ''
        else:
            raise cherrypy.HTTPError(403)


@bot.message_handler(func=lambda message: True, commands=['start'])
def Start_Command(message):
    ans = "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–º–ø–∞–Ω–∏—è ‚ÄúLION‚Äù - –≤—ã–µ–∑–¥–Ω–æ–π —Ä–µ–º–æ–Ω—Ç IPhone –∏ IPad –ø–æ –ú–æ—Å–∫–≤–µ –∏ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏."
    #bot.send_message(message.from_user.id, ans)
    userKeyboard = telebot.types.ReplyKeyboardMarkup(True, False, True)
    userKeyboard.row('–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É –Ω–∞ —Ä–µ–º–æ–Ω—Ç üõ†','–ü—Ä–∞–π—Å üí∞')
    userKeyboard.row('–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚òé')
    userKeyboard.row('–í—ã—Ö–æ–¥')
    bot.send_message(message.chat.id, ans ,reply_markup=userKeyboard)


@bot.message_handler(func=lambda message: True, commands=['stop'])
def Stop_Command(message):
    ans = "–í—Å–µ–≥–æ –Ω–∞–∏–ª—É—á—à–µ–≥–æ. (–ö–æ–º–∞–Ω–¥–∞ LION)"
    hide_userKeyboard = telebot.types.ReplyKeyboardRemove(True)
    bot.send_message(message.chat.id, ans, reply_markup=hide_userKeyboard)



@bot.message_handler(func=lambda message: True, content_types=['text'])
def react_Text_Message(message):
    global XX
    global varj
    if (message.text == "–ü—Ä–∞–π—Å üí∞"):
        userKeyboard = telebot.types.ReplyKeyboardMarkup(True, False, True)
        userKeyboard.row('iPhone', 'iPad')
        userKeyboard.row('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é')
        XX = "–ü—Ä–∞–π—Å"
        bot.send_message(message.from_user.id, "–í–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Ü–µ–Ω—ã –Ω–∞ iPhone –∏–ª–∏ iPad?", reply_markup=userKeyboard)
    if ((message.text == "iPhone") and (XX == "–ü—Ä–∞–π—Å")):
        userKeyboard = telebot.types.ReplyKeyboardMarkup(True, False, True)
        userKeyboard.row('iPhone 5,5c,5s')
        userKeyboard.row('iPhone SE')
        userKeyboard.row('iPhone 6', 'iPhone 6 Plus')
        userKeyboard.row('iPhone 6S', 'iPhone 6S Plus')
        userKeyboard.row('iPhone 7', 'iPhone 7 Plus')
	userKeyboard.row('iPhone 8','iPhone 8 Plus')
	userKeyboard.row('iPhone X')
        userKeyboard.row('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é')
        XX = "iPhone"
        bot.send_message(message.from_user.id, "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–π—Å –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–µ –≤–∞—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫–Ω–æ–ø–∫–æ–π –Ω–∏–∂–µ :)", reply_markup=userKeyboard)

    if ((message.text == "iPad") and (XX == "–ü—Ä–∞–π—Å")):
        userKeyboard = telebot.types.ReplyKeyboardMarkup(True, False, True)
        userKeyboard.row('iPad 2','iPad 3')
        userKeyboard.row('iPad 4')
        userKeyboard.row('iPad mini','iPad mini 2')
        userKeyboard.row('iPad mini 3','iPad mini 4')
        userKeyboard.row('iPad Air','iPad Air 2')
        userKeyboard.row('iPad Pro 9,7','iPad Pro 12,9')
        userKeyboard.row('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é')
        XX = "iPad"

        bot.send_message(message.from_user.id, "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–π—Å –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–µ –≤–∞—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫–Ω–æ–ø–∫–æ–π –Ω–∏–∂–µ :)", reply_markup=userKeyboard)

    if ((message.text == "iPhone 5,5c,5s") and (XX == "iPhone")):
        bot.send_message(message.from_user.id, "–ü—Ä–∞–π—Å –ª–∏—Å—Ç –Ω–∞ —Ä–µ–º–æ–Ω—Ç:\niPhone 5,5c,5s :\n\n"
                                               "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞): 2300‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 3600‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 2200‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 1800‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 1800‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 1700‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ Home: 1500‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 1700‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 1700‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 1700‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 1700‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 1600‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 1700‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 1700‚ÇΩ\n"
                                               "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –Ω–∞—É—à–Ω–∏–∫–æ–≤: 1700‚ÇΩ\n"
                                               "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
    if ((message.text == "iPhone SE") and (XX == "iPhone")):
        bot.send_message(message.from_user.id,
                                               "iPhone SE:\n"
                                               "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 3600‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 2200‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 1800‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 1800‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ Home: 1700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 1800‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 1800‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 1800‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 1700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 1600‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 1700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 1700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –Ω–∞—É—à–Ω–∏–∫–æ–≤: 1700‚ÇΩ\n"
                                                "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
    if ((message.text == "iPhone 6") and (XX == "iPhone")):
        bot.send_message(message.from_user.id,
                                                "iPhone 6:\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞): 3700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 5500‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 3600‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 2200‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ Home: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 1700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –Ω–∞—É—à–Ω–∏–∫–æ–≤: 2000‚ÇΩ\n"
                                                "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
    if ((message.text == "iPhone 6 Plus") and (XX == "iPhone")):
        bot.send_message(message.from_user.id,
                                                "iPhone 6 Plus:\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞): 4700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 5900‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 3500‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 2300‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 2200‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 2100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ Home: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 1900‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 1900‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –Ω–∞—É—à–Ω–∏–∫–æ–≤: 2000‚ÇΩ\n"
                                                "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
    if ((message.text == "iPhone 6S") and (XX == "iPhone")):
        bot.send_message(message.from_user.id,
                                                "iPhone 6S:\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞): 5500‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 7400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 3800‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 2400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 3000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 2300‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ Home: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 2400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 2400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 2400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –Ω–∞—É—à–Ω–∏–∫–æ–≤: 2400‚ÇΩ\n"
                                                "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
    if ((message.text == "iPhone 6S Plus") and (XX == "iPhone")):
        bot.send_message(message.from_user.id,
                                                "iPhone 6S Plus\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞): 6400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 9700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 4200‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 2500‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 3100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 3400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ Home: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 2100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 2100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 2100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 2400‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 2000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 2500‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 2500‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –Ω–∞—É—à–Ω–∏–∫–æ–≤: 2500‚ÇΩ\n"
                                                "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
    if ((message.text == "iPhone 7") and (XX == "iPhone")):
        bot.send_message(message.from_user.id,
                                                "iPhone 7\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞): 7900‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 11100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 6800‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 2900‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 4600‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 4600‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 4100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 4100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 2100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 2900‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 2900‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 4500‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 4500‚ÇΩ\n"
                                                "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
    if ((message.text == "iPhone 7 Plus") and (XX == "iPhone")):
        bot.send_message(message.from_user.id,
                                                "iPhone 7 Plus\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞): 9000‚ÇΩv"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª): 14000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–æ—Ä–ø—É—Å–∞: 7200‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 3000‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã: 8400‚ÇΩv"
                                                "–ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∫–∞–º–µ—Ä—ã: 6300‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è: 6700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏: 6700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–±—Ä–æ: 6700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –ø–æ–ª–∏—Ñ–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 6300‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å–ª—É—Ö–æ–≤–æ–≥–æ –¥–∏–Ω–∞–º–∏–∫–∞: 3100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: 6700‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏: 6700‚ÇΩ\n"
                                                "–ù–∞–∫–ª–µ–∏—Ç—å –∑–∞—â–∏—Ç–Ω–æ–µ —Å—Ç–µ–∫–ª–æ: 800‚ÇΩ\n\n")
 if ((message.text == "iPhone 8") and (XX == "iPhone")):
        bot.send_message(message.from_user.id, 
						"iPhone 8\n"
						"–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª: 19.700

    if ((message.text == "iPad 2") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                               "iPad 2:\n"
                                               "–ó–∞–º–µ–Ω–∞ —Å—Ç–µ–∫–ª–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 4100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 6200‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 4200‚ÇΩ\n\n"
                                                "–ü—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ —Å–ª–µ–¥—É–µ—Ç —É—Ç–æ—á–Ω–∏—Ç—å —É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Ü–µ–Ω—É –∑–∞ —É—Å–ª—É–≥—É.")
    if ((message.text == "iPad 3") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                                "iPad 3:\n"
                                                "–ó–∞–º–µ–Ω–∞ —Å—Ç–µ–∫–ª–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 4100‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 6200‚ÇΩ\n"
                                                "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 4200‚ÇΩ)\n\n")
    if ((message.text == "iPad 4") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                                 "iPad 4:\n"
                                                 "–ó–∞–º–µ–Ω–∞ —Å—Ç–µ–∫–ª–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 4100‚ÇΩ\n"
                                                 "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 6200‚ÇΩ\n"
                                                 "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 4200‚ÇΩ\n\n")
    if ((message.text == "iPad mini") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                            "iPad mini:\n"
                                            "–ó–∞–º–µ–Ω–∞ —Å—Ç–µ–∫–ª–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 4000‚ÇΩ\n"
                                            "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 6600‚ÇΩ\n"
                                            "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 3800‚ÇΩ\n\n")
    if ((message.text == "iPad mini 2") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                             "iPad mini 2:\n"
                                             "–ó–∞–º–µ–Ω–∞ —Å—Ç–µ–∫–ª–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 4200‚ÇΩ\n"
                                             "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 7400‚ÇΩ\n"
                                             "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 4300‚ÇΩ\n\n")
    if ((message.text == "iPad mini 3") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                             "iPad mini 3:\n"
                                             "–ó–∞–º–µ–Ω–∞ —Å—Ç–µ–∫–ª–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 5400‚ÇΩ\n"
                                             "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 7400‚ÇΩ\n"
                                             "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 4500‚ÇΩ\n\n")
    if ((message.text == "iPad mini 4") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                            "iPad mini 4:\n"
                                            "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 16300‚ÇΩ\n\n")
    if ((message.text == "iPad Air") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                            "iPad Air:\n"
                                             "–ó–∞–º–µ–Ω–∞ —Å—Ç–µ–∫–ª–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 4900‚ÇΩ\n"
                                             "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 8500‚ÇΩ\n"
                                             "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 5200‚ÇΩ\n\n")
    if ((message.text == "iPad Air 2") and (XX == "iPad")):
        bot.send_message(message.from_user.id,
                                            "iPad Air 2:\n"
                                            "–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 17300‚ÇΩ\n"
                                            "–ó–∞–º–µ–Ω–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞: 6200‚ÇΩ\n\n")
    if ((message.text == "iPad Pro 9,7") and (XX == "iPad")):
        bot.send_message(message.from_user.id,"iPad Pro 9,7:\n –ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 16700‚ÇΩ\n\n")
    if ((message.text == "iPad Pro 12,9") and (XX == "iPad")):
        bot.send_message(message.from_user.id,"iPad Pro 12,9:\n –ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è / —ç–∫—Ä–∞–Ω–∞: 29700‚ÇΩ\n\n")

    if (message.text == "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é"):
        XX = ""
        Start_Command(message)

    if (message.text == "–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É –Ω–∞ —Ä–µ–º–æ–Ω—Ç üõ†"):
        ans = "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–Ω–∫–µ—Ç—É –ø–æ –æ–±—Ä–∞–∑—Ü—É:\n\n1. –ù–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ \n2. –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\n3. –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω\n –í—Å—ë –≤ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ. (–í–∞–∂–Ω–æ –æ—Ç–º–µ—á–∞—Ç—å –ø—É–Ω–∫—Ç—ã 1. 2. 3.)"
        XX = "Anketa"
        hide_userKeyboard = telebot.types.ReplyKeyboardRemove(True)
        bot.send_message(message.chat.id, ans, reply_markup=hide_userKeyboard)
    if ((("1." in message.text) or ("2." in message.text) or ("3." in message.text)) and (XX == "Anketa")):
        bot.send_message(message.chat.id, "–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞, –≤—Å–∫–æ—Ä–µ —Å –≤–∞–º–∏ —Å–≤—è–∂–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä.\n–ü–æ –ª—é–±—ã–º –≤–æ–ø—Ä–æ—Å–∞–º –∑–≤–æ–Ω–∏—Ç—å:\n–°–µ—Ä–≥–µ–π: +7 (925) 833-40-56\n–ö–∏—Ä–∏–ª–ª:  +7 (985) 696-99-98 ")
        bot.send_message(242912995,"–ü–æ–ª—É—á–µ–Ω–∞ –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –æ—Ç @"+message.from_user.username+"\n –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:\n"+message.text)
        bot.send_message(431353666,
                         "–ü–æ–ª—É—á–µ–Ω–∞ –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –æ—Ç @" + message.from_user.username + "\n –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:\n" + message.text)
        bot.send_message(436527656,"–ü–æ–ª—É—á–µ–Ω–∞ –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –æ—Ç @" + message.from_user.username + "\n –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:\n" + message.text)
        XX = ""
        Start_Command(message)

    if (message.text == "–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚òé"):
        bot.send_message(message.chat.id, "–ö–æ–Ω—Ç–∞–∫—Ç—ã\n–°–µ—Ä–≥–µ–π: +7 (925) 833-40-56\n–ö–∏—Ä–∏–ª–ª:  +7 (985) 696-99-98")

    if (message.text == "–í—ã—Ö–æ–¥"):
        Stop_Command(message)

bot.remove_webhook()

bot.set_webhook(url=webhook_url_kekbase + webhook_url_path, certificate=open(webhook_SSL_cert, 'r'))
cherrypy.config.update({
    'server.socket_host': webhook_listen,
    'server.socket_port': webhook_port,
    'server.ssl_module': 'builtin',
    'server.ssl_certificate': webhook_SSL_cert,
    'server.ssl_private_key': webhook_SSL_PRIV
})

cherrypy.quickstart(WebhookServer(), webhook_url_path, {'/':{}})
